<div class="demos">
  <div class="demos__add-todo">
    <mat-form-field>
      <mat-label>Найти Todo...</mat-label>
      <input matInput [(ngModel)]="searchStr" />
    </mat-form-field>
    <button (click)="createTodo()" color="primary" mat-flat-button>
      Add todo
    </button>
  </div>

  <div class="demos__content" cdkDropListGroup>
    <div
      class="demos__content_card"
      cdkDropList
      [cdkDropListData]="evaluation$ | async"
      (cdkDropListDropped)="drop($event)"
    >
      <div class="demos__content_card-header">
        <p style="margin: 0; padding: 10px">Оценка</p>
      </div>
      <demos-card
        cdkDrag
        style="width: 95%"
        (editEvent)="editTodo($event)"
        *ngFor="let todo of evaluation$ | async | searchTodo: searchStr"
        [title]="todo.title"
        [priority]="todo.priority"
        [id]="todo.id"
        (removeEvent)="removeTodo($event)"
      ></demos-card>
    </div>

    <div
      class="demos__content_card"
      cdkDropList
      [cdkDropListData]="evaluation$ | async"
      (cdkDropListDropped)="drop($event)"
    >
      <div class="demos__content_card-header">
        <p style="margin: 0; padding: 10px">В работе</p>
      </div>
      <demos-card
        cdkDrag
        style="width: 95%"
        (editEvent)="editTodo($event)"
        *ngFor="let todo of work$ | async | searchTodo: searchStr"
        [title]="todo.title"
        [priority]="todo.priority"
        [id]="todo.id"
        (removeEvent)="removeTodo($event)"
      ></demos-card>
    </div>

    <div
      class="demos__content_card"
      cdkDropList
      [cdkDropListData]="evaluation$ | async"
      (cdkDropListDropped)="drop($event)"
    >
      <div class="demos__content_card-header">
        <p style="margin: 0; padding: 10px">Ревью</p>
      </div>
      <demos-card
        cdkDrag
        style="width: 95%"
        (editEvent)="editTodo($event)"
        *ngFor="let todo of review$ | async | searchTodo: searchStr"
        [title]="todo.title"
        [priority]="todo.priority"
        [id]="todo.id"
        (removeEvent)="removeTodo($event)"
      ></demos-card>
    </div>

    <div
      class="demos__content_card"
      cdkDropList
      [cdkDropListData]="evaluation$ | async"
      (cdkDropListDropped)="drop($event)"
    >
      <div class="demos__content_card-header">
        <p style="margin: 0; padding: 10px">Выполнено</p>
      </div>
      <demos-card
        cdkDrag
        style="width: 95%"
        (editEvent)="editTodo($event)"
        *ngFor="let todo of performed$ | async | searchTodo: searchStr"
        [title]="todo.title"
        [priority]="todo.priority"
        [id]="todo.id"
        (removeEvent)="removeTodo($event)"
      ></demos-card>
    </div>
  </div>
</div>
